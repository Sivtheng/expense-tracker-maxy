<%= stylesheet_link_tag 'edit', media: 'all', 'data-turbo-track': 'reload' %>

<div class="expense-container">
  <div class="expense-box">
    <h1>Edit Expense</h1>

    <% if @expense.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@expense.errors.count, "error") %> prohibited this expense from being saved:</h2>
        <ul>
          <% @expense.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with(model: @expense, local: true) do |form| %>
      <div class="form-group">
        <%= form.label :description, class: 'form-label' %>
        <%= form.text_field :description, class: 'form-control', placeholder: 'Enter expense description' %>
      </div>

      <div class="form-group">
        <%= form.label :amount, class: 'form-label' %>
        <%= form.number_field :amount, class: 'form-control', step: :any, placeholder: 'Enter amount' %>
      </div>

      <div class="form-group">
        <%= form.label :date, class: 'form-label' %>
        <%= form.date_field :date, class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= form.label :category_id, "Select a Category", class: 'form-label' %>
        <%= form.collection_select :category_id, Category.all, :id, :name, { prompt: "Select a Category" }, { class: 'form-control' } %>
      </div>

      <div class="actions">
        <%= form.submit 'Save Changes', class: 'btn btn-primary' %>
      </div>
    <% end %>

    <%= link_to 'Back', expenses_path, class: 'link-back' %>
  </div>
</div>
